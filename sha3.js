(function(){'use strict';function a(a,b,c){this.blocks=[],this.s=[],this.padding=b,this.outputBits=c,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(a<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=c>>5,this.extraBytes=(31&c)>>3;for(var d=0;50>d;++d)this.s[d]=0}function b(b,c,d){a.call(this,b,c,d)}var c="object"==typeof window,d=c?window:{};d.JS_SHA3_NO_WINDOW&&(c=!1);var e=!c&&"object"==typeof self,g=!d.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;g?d=global:e&&(d=self);for(var h=!d.JS_SHA3_NO_COMMON_JS&&"object"==typeof module&&module.exports,k="function"==typeof define&&define.amd,l=!d.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=[31,7936,2031616,520093696],o=[4,1024,262144,67108864],p=[1,256,65536,16777216],q=[6,1536,393216,100663296],r=[0,8,16,24],t=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=[224,256,384,512],u=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],x={128:168,256:136},y=d.JS_SHA3_NO_NODE_JS||!Array.isArray?function(a){return"[object Array]"===Object.prototype.toString.call(a)}:Array.isArray,z=l&&(d.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)?function(a){return"object"==typeof a&&a.buffer&&a.buffer.constructor===ArrayBuffer}:ArrayBuffer.isView,A=function(a){var b=typeof a;if("string"==b)return[a,!0];if("object"!=b||null===a)throw new Error("input is invalid type");if(l&&a.constructor===ArrayBuffer)return[new Uint8Array(a),!1];if(!y(a)&&!z(a))throw new Error("input is invalid type");return[a,!1]},B=function(a){return 0===A(a)[0].length},C=function(a){for(var b=[],c=0;c<a.length;++c)b[c]=a[c];return b},D=function(b,c,d){return function(e){return new a(b,c,b).update(e)[d]()}},E=function(b,c,d){return function(e,f){return new a(b,c,f).update(e)[d]()}},F=function(a,b,c){return function(b,d,e,f){return N["cshake"+a].update(b,d,e,f)[c]()}},G=function(a,b,c){return function(b,d,e,f){return N["kmac"+a].update(b,d,e,f)[c]()}},H=function(a,b,c,d){for(var e,f=0;f<v.length;++f)e=v[f],a[e]=b(c,d,e);return a},I=function(b,c){var d=D(b,c,"hex");return d.create=function(){return new a(b,c,b)},d.update=function(a){return d.create().update(a)},H(d,D,b,c)},J=function(b,c){var d=E(b,c,"hex");return d.create=function(d){return new a(b,c,d)},d.update=function(a,b){return d.create(b).update(a)},H(d,E,b,c)},K=function(b,c){var d=x[b],e=F(b,c,"hex");return e.create=function(e,f,g){return B(f)&&B(g)?N["shake"+b].create(e):new a(b,c,e).bytepad([f,g],d)},e.update=function(a,b,c,d){return e.create(b,c,d).update(a)},H(e,F,b,c)},L=function(a,c){var d=x[a],e=G(a,c,"hex");return e.create=function(e,f,g){return new b(a,c,f).bytepad(["KMAC",g],d).bytepad([e],d)},e.update=function(a,b,c,d){return e.create(a,c,d).update(b)},H(e,G,a,c)},M=[{name:"keccak",padding:p,bits:s,createMethod:I},{name:"sha3",padding:q,bits:s,createMethod:I},{name:"shake",padding:n,bits:u,createMethod:J},{name:"cshake",padding:o,bits:u,createMethod:K},{name:"kmac",padding:o,bits:u,createMethod:L}],N={},O=[],P=0;P<M.length;++P)for(var w,Q=M[P],R=Q.bits,S=0;S<R.length;++S)if(w=Q.name+"_"+R[S],O.push(w),N[w]=Q.createMethod(R[S],Q.padding),"sha3"!==Q.name){var T=Q.name+R[S];O.push(T),N[T]=N[w]}a.prototype.update=function(a){if(this.finalized)throw new Error("finalize already called");var b=A(a);a=b[0];for(var c,d,e=b[1],f=this.blocks,g=this.byteCount,h=a.length,j=this.blockCount,k=0,l=this.s;k<h;){if(this.reset)for(this.reset=!1,f[0]=this.block,c=1;c<j+1;++c)f[c]=0;if(e)for(c=this.start;k<h&&c<g;++k)d=a.charCodeAt(k),128>d?f[c>>2]|=d<<r[3&c++]:2048>d?(f[c>>2]|=(192|d>>6)<<r[3&c++],f[c>>2]|=(128|63&d)<<r[3&c++]):55296>d||57344<=d?(f[c>>2]|=(224|d>>12)<<r[3&c++],f[c>>2]|=(128|63&d>>6)<<r[3&c++],f[c>>2]|=(128|63&d)<<r[3&c++]):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++k)),f[c>>2]|=(240|d>>18)<<r[3&c++],f[c>>2]|=(128|63&d>>12)<<r[3&c++],f[c>>2]|=(128|63&d>>6)<<r[3&c++],f[c>>2]|=(128|63&d)<<r[3&c++]);else for(c=this.start;k<h&&c<g;++k)f[c>>2]|=a[k]<<r[3&c++];if(this.lastByteIndex=c,c>=g){for(this.start=c-g,this.block=f[j],c=0;c<j;++c)l[c]^=f[c];U(l),this.reset=!0}else this.start=c}return this},a.prototype.encode=function(a,b){var c=255&a,d=1,e=[c];for(a>>=8,c=255&a;0<c;)e.unshift(c),a>>=8,c=255&a,++d;return b?e.push(d):e.unshift(d),this.update(e),e.length},a.prototype.encodeString=function(a){var b=A(a);a=b[0];var c=b[1],d=0,e=a.length;if(c)for(var f,g=0;g<a.length;++g)f=a.charCodeAt(g),128>f?d+=1:2048>f?d+=2:55296>f||57344<=f?d+=3:(f=65536+((1023&f)<<10|1023&a.charCodeAt(++g)),d+=4);else d=e;return d+=this.encode(8*d),this.update(a),d},a.prototype.bytepad=function(a,b){for(var c=this.encode(b),d=0;d<a.length;++d)c+=this.encodeString(a[d]);var e=(b-c%b)%b,f=[];return f.length=e,this.update(f),this},a.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex,c=this.blockCount,d=this.s;if(a[b>>2]|=this.padding[3&b],this.lastByteIndex===this.byteCount)for(a[0]=a[c],b=1;b<c+1;++b)a[b]=0;for(a[c-1]|=2147483648,b=0;b<c;++b)d[b]^=a[b];U(d)}},a.prototype.toString=a.prototype.hex=function(){this.finalize();for(var a,b=this.blockCount,c=this.s,d=this.outputBlocks,e=this.extraBytes,f=0,g=0,h="";g<d;){for(f=0;f<b&&g<d;++f,++g)a=c[f],h+=m[15&a>>4]+m[15&a]+m[15&a>>12]+m[15&a>>8]+m[15&a>>20]+m[15&a>>16]+m[15&a>>28]+m[15&a>>24];0==g%b&&(c=C(c),U(c),f=0)}return e&&(a=c[f],h+=m[15&a>>4]+m[15&a],1<e&&(h+=m[15&a>>12]+m[15&a>>8]),2<e&&(h+=m[15&a>>20]+m[15&a>>16])),h},a.prototype.arrayBuffer=function(){this.finalize();var a,b=this.blockCount,c=this.s,d=this.outputBlocks,e=this.extraBytes,f=0,g=0,h=this.outputBits>>3;a=e?new ArrayBuffer(d+1<<2):new ArrayBuffer(h);for(var k=new Uint32Array(a);g<d;){for(f=0;f<b&&g<d;++f,++g)k[g]=c[f];0==g%b&&(c=C(c),U(c))}return e&&(k[g]=c[f],a=a.slice(0,h)),a},a.prototype.buffer=a.prototype.arrayBuffer,a.prototype.digest=a.prototype.array=function(){this.finalize();for(var a,b,c=this.blockCount,d=this.s,e=this.outputBlocks,f=this.extraBytes,g=0,h=0,k=[];h<e;){for(g=0;g<c&&h<e;++g,++h)a=h<<2,b=d[g],k[a]=255&b,k[a+1]=255&b>>8,k[a+2]=255&b>>16,k[a+3]=255&b>>24;0==h%c&&(d=C(d),U(d))}return f&&(a=h<<2,b=d[g],k[a]=255&b,1<f&&(k[a+1]=255&b>>8),2<f&&(k[a+2]=255&b>>16)),k},b.prototype=new a,b.prototype.finalize=function(){return this.encode(this.outputBits,!0),a.prototype.finalize.call(this)};var U=function(a){var b,c,d,e,f,g,i,j,k,m,o,p,q,r,s,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na;for(d=0;48>d;d+=2)e=a[0]^a[10]^a[20]^a[30]^a[40],f=a[1]^a[11]^a[21]^a[31]^a[41],g=a[2]^a[12]^a[22]^a[32]^a[42],i=a[3]^a[13]^a[23]^a[33]^a[43],j=a[4]^a[14]^a[24]^a[34]^a[44],k=a[5]^a[15]^a[25]^a[35]^a[45],m=a[6]^a[16]^a[26]^a[36]^a[46],o=a[7]^a[17]^a[27]^a[37]^a[47],p=a[8]^a[18]^a[28]^a[38]^a[48],q=a[9]^a[19]^a[29]^a[39]^a[49],b=p^(g<<1|i>>>31),c=q^(i<<1|g>>>31),a[0]^=b,a[1]^=c,a[10]^=b,a[11]^=c,a[20]^=b,a[21]^=c,a[30]^=b,a[31]^=c,a[40]^=b,a[41]^=c,b=e^(j<<1|k>>>31),c=f^(k<<1|j>>>31),a[2]^=b,a[3]^=c,a[12]^=b,a[13]^=c,a[22]^=b,a[23]^=c,a[32]^=b,a[33]^=c,a[42]^=b,a[43]^=c,b=g^(m<<1|o>>>31),c=i^(o<<1|m>>>31),a[4]^=b,a[5]^=c,a[14]^=b,a[15]^=c,a[24]^=b,a[25]^=c,a[34]^=b,a[35]^=c,a[44]^=b,a[45]^=c,b=j^(p<<1|q>>>31),c=k^(q<<1|p>>>31),a[6]^=b,a[7]^=c,a[16]^=b,a[17]^=c,a[26]^=b,a[27]^=c,a[36]^=b,a[37]^=c,a[46]^=b,a[47]^=c,b=m^(e<<1|f>>>31),c=o^(f<<1|e>>>31),a[8]^=b,a[9]^=c,a[18]^=b,a[19]^=c,a[28]^=b,a[29]^=c,a[38]^=b,a[39]^=c,a[48]^=b,a[49]^=c,r=a[0],s=a[1],Y=a[11]<<4|a[10]>>>28,Z=a[10]<<4|a[11]>>>28,G=a[20]<<3|a[21]>>>29,H=a[21]<<3|a[20]>>>29,ka=a[31]<<9|a[30]>>>23,la=a[30]<<9|a[31]>>>23,U=a[40]<<18|a[41]>>>14,V=a[41]<<18|a[40]>>>14,M=a[2]<<1|a[3]>>>31,N=a[3]<<1|a[2]>>>31,u=a[13]<<12|a[12]>>>20,v=a[12]<<12|a[13]>>>20,$=a[22]<<10|a[23]>>>22,_=a[23]<<10|a[22]>>>22,I=a[33]<<13|a[32]>>>19,J=a[32]<<13|a[33]>>>19,ma=a[42]<<2|a[43]>>>30,na=a[43]<<2|a[42]>>>30,ea=a[5]<<30|a[4]>>>2,fa=a[4]<<30|a[5]>>>2,O=a[14]<<6|a[15]>>>26,P=a[15]<<6|a[14]>>>26,w=a[25]<<11|a[24]>>>21,x=a[24]<<11|a[25]>>>21,aa=a[34]<<15|a[35]>>>17,ba=a[35]<<15|a[34]>>>17,K=a[45]<<29|a[44]>>>3,L=a[44]<<29|a[45]>>>3,C=a[6]<<28|a[7]>>>4,D=a[7]<<28|a[6]>>>4,ga=a[17]<<23|a[16]>>>9,ha=a[16]<<23|a[17]>>>9,Q=a[26]<<25|a[27]>>>7,R=a[27]<<25|a[26]>>>7,y=a[36]<<21|a[37]>>>11,z=a[37]<<21|a[36]>>>11,ca=a[47]<<24|a[46]>>>8,da=a[46]<<24|a[47]>>>8,W=a[8]<<27|a[9]>>>5,X=a[9]<<27|a[8]>>>5,E=a[18]<<20|a[19]>>>12,F=a[19]<<20|a[18]>>>12,ia=a[29]<<7|a[28]>>>25,ja=a[28]<<7|a[29]>>>25,S=a[38]<<8|a[39]>>>24,T=a[39]<<8|a[38]>>>24,A=a[48]<<14|a[49]>>>18,B=a[49]<<14|a[48]>>>18,a[0]=r^~u&w,a[1]=s^~v&x,a[10]=C^~E&G,a[11]=D^~F&H,a[20]=M^~O&Q,a[21]=N^~P&R,a[30]=W^~Y&$,a[31]=X^~Z&_,a[40]=ea^~ga&ia,a[41]=fa^~ha&ja,a[2]=u^~w&y,a[3]=v^~x&z,a[12]=E^~G&I,a[13]=F^~H&J,a[22]=O^~Q&S,a[23]=P^~R&T,a[32]=Y^~$&aa,a[33]=Z^~_&ba,a[42]=ga^~ia&ka,a[43]=ha^~ja&la,a[4]=w^~y&A,a[5]=x^~z&B,a[14]=G^~I&K,a[15]=H^~J&L,a[24]=Q^~S&U,a[25]=R^~T&V,a[34]=$^~aa&ca,a[35]=_^~ba&da,a[44]=ia^~ka&ma,a[45]=ja^~la&na,a[6]=y^~A&r,a[7]=z^~B&s,a[16]=I^~K&C,a[17]=J^~L&D,a[26]=S^~U&M,a[27]=T^~V&N,a[36]=aa^~ca&W,a[37]=ba^~da&X,a[46]=ka^~ma&ea,a[47]=la^~na&fa,a[8]=A^~r&u,a[9]=B^~s&v,a[18]=K^~C&E,a[19]=L^~D&F,a[28]=U^~M&O,a[29]=V^~N&P,a[38]=ca^~W&Y,a[39]=da^~X&Z,a[48]=ma^~ea&ga,a[49]=na^~fa&ha,a[0]^=t[d],a[1]^=t[d+1]};if(h)module.exports=N;else{for(P=0;P<O.length;++P)d[O[P]]=N[O[P]];k&&define(function(){return N})}})();
